<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Dag 4</title>
    <style>
        .product__button {
            padding: 4px 8px;
            border-radius: 3px;
            border: 0;
            background-color: #3c80ee;
            color: white;
            font-size: 18px;
        }
        .product__button--clicked {
            background-color: #275399;
            pointer-events: none;
        }
    </style>
  </head>
  <body>
    <h1 id="title">Dag 4</h1>
    <p class="description">
      Lorem ipsum dolor sit amet, consectetur adipisicing elit. Atque
      architecto, ratione sequi vero molestias fuga, laborum eaque ex natus
      consequatur in perspiciatis aliquid animi, ad quos amet officia quam
      totam! Lorem ipsum dolor sit amet, consectetur adipisicing elit. Atque
      architecto, ratione sequi vero molestias fuga, laborum eaque ex natus
      consequatur in perspiciatis aliquid animi, ad quos amet officia quam
      totam!
    </p>
    <img src="https://picsum.photos/200/200" />
    <img src="https://picsum.photos/200/200" />
    <img src="https://picsum.photos/200/200" />
    <div class="products">


    </div>

    <!-- <script src="repition_day_3.js"></script> -->
    <!-- <scr src="string_manipulation.js"></scr
    ipt> -->
    <!-- <script src="cookies.js"></script> -->
    <script src="DOM.js"></script>
    <script>
        //! Getters
        // getElementById
        const title = document.getElementById("title")

        // querySelector
        const description = document.querySelector(
            ".description"
        )

        // querySelectorAll - gives nodelist (a lighter array of html elements)
        //const products = document.querySelectorAll(".product")

        const products = document.querySelector(".products")

        // getElementsByTagName
        const images = document.getElementsByTagName("img")

        const imagesArr = Array.from(images)

        // Edit elements
        if(title){
            title.textContent = `Dag 4 - ${new Date().toISOString()}`
            title.style.color = "red"
        }
        description.textContent = description.textContent.substring(1,100) + "..."

        imagesArr.forEach((image, index) => {
            image.style.filter = `grayscale(${index * 50}%)`
        })

        // Create element
       const productsSimple = [
        0,1,2,3,4,5,6,7,8,9,10
       ]
       
       const productsObj = [
        { title: "Apple", id: 0},
        { title: "Orange", id: 1},
        { title: "Pear", id: 2},
        { title: "Cherry", id: 3},
       ]

        function addProductToHtml(product) {
            const productEl = document.createElement("div")
            productEl.id = `product-${product.id}`
            productEl.classList.add("product")

            const productTitle = document.createElement("h3")
            productTitle.classList.add("product__title")
            productTitle.textContent = product.title

            const productButton = document.createElement("button")
            productButton.classList.add("product__button")
            productButton.textContent = "Buy"
            productButton.addEventListener("click",() => {
                productButton.textContent = "In cart"
                productButton.classList.add("product__button--clicked")
            })

            productEl.appendChild(productTitle)
            productEl.appendChild(productButton)

            products.appendChild(productEl)
        }

        productsObj.forEach(p => {
            addProductToHtml(p)
        })

        //1. change the background color of the description
        //SV. Ändra bakgrundsfärgen på description

        //2. change the title case to uppercase
        //SV. Ändra titeln till uppercase
        
        //3. create a new paragraph with the text "Last updated: today's date"
        //SV. Skapa en ny paragraf med texten "Last updated: today's date"
        
        //4. create a button with the text "Click me" when clicked it changes the text of the title to "I was clicked"
        //SV. Skapa en knapp med texten "Click me" som när den klickas på ändrar titeln till "I was clicked"

    </script>
  </body>
</html>
